### 비관적 락 (SELECT FOR UPDATE) 테스트 (product_plain 테이블 1번 상품)

### 1. 초기 상품 정보 확인
GET http://localhost:8080/api/pessimistic/products/1

### 2. 비관적 락 재고 감소 #1 (동시 실행)
PATCH http://localhost:8080/api/pessimistic/products/1/stock
Content-Type: application/json

{
  "quantity": -1
}

### 3. 비관적 락 재고 감소 #2 (동시 실행)
PATCH http://localhost:8080/api/pessimistic/products/1/stock
Content-Type: application/json

{
  "quantity": -1
}

### 4. 상품 정보 업데이트 #1 (동시 실행)
PUT http://localhost:8080/api/pessimistic/products/1
Content-Type: application/json

{
  "name": "비관적 락 테스트 상품 - 수정1",
  "priceKrw": 21000,
  "stockQty": 5,
  "version": 0
}

### 5. 상품 정보 업데이트 #2 (동시 실행)
PUT http://localhost:8080/api/pessimistic/products/1
Content-Type: application/json

{
  "name": "비관적 락 테스트 상품 - 수정2",
  "priceKrw": 22000,
  "stockQty": 3,
  "version": 0
}

### 6. 결과 확인
GET http://localhost:8080/api/pessimistic/products/1